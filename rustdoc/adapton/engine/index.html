<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `engine` mod in crate `adapton`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, engine">

    <title>adapton::engine - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>adapton</a></p><script>window.sidebarCurrent = {name: 'engine', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Module <a href='../index.html'>adapton</a>::<wbr><a class='mod' href=''>engine</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/adapton/engine.rs.html#1-2686' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Adapton&#39;s core calculus, implemented as a runtime library.  We
implement two versions of this interface, which we refer to as
<em>engines</em>: The <strong>naive engine</strong> and the <strong>DCG engine</strong>,
implemented based on the algorithms from the Adapton papers.</p>

<p>To program algorithms that use this interface, consider the
following functions and macros:</p>

<ul>
<li><p><code>fn force</code>, which observes/consumes/demands the value of an
<code>Art</code>.</p></li>
<li><p><code>fn cell</code>, which allocates/produces an <code>Art</code> to hold a given
value.  See also, the macro <code>cell_call!</code>, which places the
result of a function call into a (named) cell.</p></li>
<li><p><code>fn thunk</code>, and the macros <code>thunk!</code> and <code>eager!</code>, which
introduce <code>Art</code>s that hold suspended computations and produce
their results, when <code>force</code>d.  The macro <code>eager!</code> forces this
suspended computation eagerly.</p></li>
<li><p><code>fn ns</code>, which manages a monadic <em>naming policy</em> for
allocations by <code>cell</code> and <code>thunk</code> (and macros that use these).
This function extends the current path (a sequence of names)
by one name, which we refer to as a <em>namespace</em>.  This
namespace concept is analogous to a directory in the UNIX
filesystem.</p></li>
</ul>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='mod' href='manage/index.html'
                                  title='adapton::engine::manage'>manage</a></td>
                           <td class='docblock-short'>
                                <p>Operations that monitor and alter the active engine.  Incremental
applications should not use these operations directly.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='mod' href='reflect/index.html'
                                  title='adapton::engine::reflect'>reflect</a></td>
                           <td class='docblock-short'>
                                <p>Reflects the DCG engine, including both the effects of the
programs running in it, and the internal effects of the engine
cleaning and dirtying the DCG.  For the latter effects, see the
<code>trace</code> module.</p>
                           </td>
                       </tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Art.html'
                                  title='adapton::engine::Art'>Art</a></td>
                           <td class='docblock-short'>
                                <p><em>Articulations:</em> for incrementally-changing data/computation.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Cnt.html'
                                  title='adapton::engine::Cnt'>Cnt</a></td>
                           <td class='docblock-short'>
                                <p><em>Engine Counts</em>: Metrics that reflect the time and space costs of the engine.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.DCG.html'
                                  title='adapton::engine::DCG'>DCG</a></td>
                           <td class='docblock-short'>
                                <p><em>(DCG) Demanded Computation Graph</em>: The cache of past computation.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Flags.html'
                                  title='adapton::engine::Flags'>Flags</a></td>
                           <td class='docblock-short'>
                                <p>Flags control runtime behavior of the DCG.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Name.html'
                                  title='adapton::engine::Name'>Name</a></td>
                           <td class='docblock-short'>
                                <p><em>Names</em>: First-class data that identifies a mutable cell (see
<code>cell</code>) or a thunk (see <code>thunk</code>).  When a name identifies
different content over time, it describes <em>where</em> incremental
changing is occurring, relative to other (unaffected) parts of
data structures or computations.</p>
                           </td>
                       </tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.ArtIdChoice.html'
                                  title='adapton::engine::ArtIdChoice'>ArtIdChoice</a></td>
                           <td class='docblock-short'>
                                <p>An <code>ArtIdChoice</code> choses between <code>Eager</code>, <code>Structural</code> and
<code>Nominal</code> identities for articulation points introduced by
<code>thunk</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Engine.html'
                                  title='adapton::engine::Engine'>Engine</a></td>
                           <td class='docblock-short'>
                                <p>The engine API works in two modes: <code>Naive</code> and <code>DCG</code>. A <code>Naive</code> engine is stateless, whereas the <code>DCG</code> is stateful.</p>
                           </td>
                       </tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.cell.html'
                                  title='adapton::engine::cell'>cell</a></td>
                           <td class='docblock-short'>
                                <p>Creates a named reference cell (an eager <code>Art&lt;_&gt;</code>) whose content
can change over time.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.force.html'
                                  title='adapton::engine::force'>force</a></td>
                           <td class='docblock-short'>
                                <p>Demands and observes the value of an <code>&amp;Art&lt;T&gt;</code>, returning a (cloned) value of type <code>T</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_fork.html'
                                  title='adapton::engine::name_fork'>name_fork</a></td>
                           <td class='docblock-short'>
                                <p>Create two names from one</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_fork3.html'
                                  title='adapton::engine::name_fork3'>name_fork3</a></td>
                           <td class='docblock-short'>
                                <p>Create three names from one</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_fork4.html'
                                  title='adapton::engine::name_fork4'>name_fork4</a></td>
                           <td class='docblock-short'>
                                <p>Create four names from one</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_of_isize.html'
                                  title='adapton::engine::name_of_isize'>name_of_isize</a></td>
                           <td class='docblock-short'>
                                <p>Create a name from a <code>isize</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_of_str.html'
                                  title='adapton::engine::name_of_str'>name_of_str</a></td>
                           <td class='docblock-short'>
                                <p>Create a name from a <code>str</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_of_string.html'
                                  title='adapton::engine::name_of_string'>name_of_string</a></td>
                           <td class='docblock-short'>
                                <p>Create a name from a <code>string</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_of_usize.html'
                                  title='adapton::engine::name_of_usize'>name_of_usize</a></td>
                           <td class='docblock-short'>
                                <p>Create a name from a <code>usize</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_pair.html'
                                  title='adapton::engine::name_pair'>name_pair</a></td>
                           <td class='docblock-short'>
                                <p>Create one name from two (binary name composition)</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.name_unit.html'
                                  title='adapton::engine::name_unit'>name_unit</a></td>
                           <td class='docblock-short'>
                                <p>Create a name from unit, that is, create a &quot;leaf&quot; name.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.ns.html'
                                  title='adapton::engine::ns'>ns</a></td>
                           <td class='docblock-short'>
                                <p>Creates or re-enters a given namespace; performs the given computation there.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.put.html'
                                  title='adapton::engine::put'>put</a></td>
                           <td class='docblock-short'>
                                <p>Creates an unnamed, immutable reference cell (an eager <code>Art&lt;_&gt;</code>)
whose content may not change over time.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.set.html'
                                  title='adapton::engine::set'>set</a></td>
                           <td class='docblock-short'>
                                <p>Mutates a mutable articulation.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.structural.html'
                                  title='adapton::engine::structural'>structural</a></td>
                           <td class='docblock-short'>
                                <p>Enters a special &quot;namespace&quot; where all name uses are ignored; instead, Adapton uses structural identity.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.thunk.html'
                                  title='adapton::engine::thunk'>thunk</a></td>
                           <td class='docblock-short'>
                                <p>Allocates a thunk, an <code>Art&lt;T&gt;</code> that consists of a suspended
computation that produces a value of type <code>T</code>.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "adapton";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>