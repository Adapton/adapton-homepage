<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `reflect` mod in crate `adapton`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, reflect">

    <title>adapton::engine::reflect - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../../index.html'>adapton</a>::<wbr><a href='../index.html'>engine</a></p><script>window.sidebarCurrent = {name: 'reflect', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Module <a href='../../index.html'>adapton</a>::<wbr><a href='../index.html'>engine</a>::<wbr><a class='mod' href=''>reflect</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../../src/adapton/engine.rs.html#75-193' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Reflects the DCG engine, including both the effects of the
programs running in it, and the internal effects of the engine
cleaning and dirtying the DCG.  For the latter effects, see the
<code>trace</code> module.</p>

<p><strong>Reflected Values</strong>.  Notably, the values in the engine
(including the values of mutable and compute nodes, and the values
stored on edges between them) are reflected here into a special <code>Val</code>
type.  Primarily, the distinction between actual Rust values and
this reflected <code>Val</code> type is what makes the DCG engine &quot;reflected&quot;
by the definitions in this module, and not identical to them.</p>

<p>This module provides an interface used by Adapton Lab to produce
HTML visualizations of these internal structures, for
experimentation and debugging (namely, the <code>dcg_reflect_begin</code> and
<code>dcg_reflect_end</code> functions).  For the purposes of debugging,
visualization and design/exploration, we exploit the reflected
version of values to &quot;walk&quot; them, finding their articulations, and
walking their values, recursively.</p>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='mod' href='trace/index.html'
                                  title='adapton::engine::reflect::trace'>trace</a></td>
                           <td class='docblock-short'>
                                <p>Gives effects and traces for cleaning and dirtying, the engine&#39;s
internal DCG traversal/processing.  By contrast, the enclosing
module (<code>reflect</code>) only gives reflected versions of the DCG
itself, not changes that the engine makes to it.</p>
                           </td>
                       </tr></table><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.CompNode.html'
                                  title='adapton::engine::reflect::CompNode'>CompNode</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::CompNode</code>.  Stores a reflected value
of type <code>Option&lt;Val&gt;</code>, which is <code>None</code> when the node has not yet
been executed, and <code>Some(_)</code> otherwise.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.DCG.html'
                                  title='adapton::engine::reflect::DCG'>DCG</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::DCG</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Frame.html'
                                  title='adapton::engine::reflect::Frame'>Frame</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Frame</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Loc.html'
                                  title='adapton::engine::reflect::Loc'>Loc</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Loc</code> A <code>Loc</code> is a particular
template for a <code>Name</code>: It is a path (a possibly-empty list of
<code>Name</code>s), followed by a distinguished <code>Name</code>.  A <code>Loc</code> can be
thought of roughly like a file path in UNIX (but Adapton has
nothing to do with files, or with UNIX, directly).</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Pred.html'
                                  title='adapton::engine::reflect::Pred'>Pred</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Pred</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.PureNode.html'
                                  title='adapton::engine::reflect::PureNode'>PureNode</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::PureNode</code>.  Stores a reflected value of type <code>Val</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.RefNode.html'
                                  title='adapton::engine::reflect::RefNode'>RefNode</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::MutNode</code>.  Stores a reflected value of type <code>Val</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Succ.html'
                                  title='adapton::engine::reflect::Succ'>Succ</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Succ</code>.  Unlike the real engine&#39;s
<code>Succ</code> type, this version stores a reflected value (of type
<code>Val</code>).</p>
                           </td>
                       </tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.ArtContent.html'
                                  title='adapton::engine::reflect::ArtContent'>ArtContent</a></td>
                           <td class='docblock-short'>
                                <p>The content of an articulation: Either a cell holding a value, or
a thunk that has optionally produced a value.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Const.html'
                                  title='adapton::engine::reflect::Const'>Const</a></td>
                           <td class='docblock-short'>
                                <p>Primitive constants</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Effect.html'
                                  title='adapton::engine::reflect::Effect'>Effect</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Effect</code></p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Node.html'
                                  title='adapton::engine::reflect::Node'>Node</a></td>
                           <td class='docblock-short'>
                                <p>Reflected version of <code>engine::Node</code>.  Unlike the real engine,
these nodes are not parameterized by a value type.  Instead, their
values are all reflected into type <code>Val</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='enum' href='enum.Val.html'
                                  title='adapton::engine::reflect::Val'>Val</a></td>
                           <td class='docblock-short'>
                                <p>Reflected value; Gives a syntax for inductive data type
constructors (<code>Constr</code>), named articulations (<code>Art</code>) and primitive
data (<code>Data</code>).  All values in the engine (including the values of
nodes, and the values stored on edges) are represented with this
reflected <code>Val</code> type.  Primarily, this distinction between actual
Rust values and this type is what makes the DCG engine &quot;reflected&quot;
by the definitions in this module, and not identical to them.</p>
                           </td>
                       </tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='trait' href='trait.Reflect.html'
                                  title='adapton::engine::reflect::Reflect'>Reflect</a></td>
                           <td class='docblock-short'>
                                <p>This trait consists of the ability for a reference to <code>Self</code> to
produce a <code>T</code>.  Conceptually, that value of type T is the
&quot;reflection&quot; of <code>Self</code>.  A large set of types in <code>engine</code>
implement this trait for a particular type in this module, which
represents its reflection.  The documentation of this module makes
this correspondance clear.</p>
                           </td>
                       </tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.dcg_reflect_begin.html'
                                  title='adapton::engine::reflect::dcg_reflect_begin'>dcg_reflect_begin</a></td>
                           <td class='docblock-short'>
                                <p>Begin recording (reflections of) DCG effects.  See <code>dcg_reflect_end()</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.dcg_reflect_end.html'
                                  title='adapton::engine::reflect::dcg_reflect_end'>dcg_reflect_end</a></td>
                           <td class='docblock-short'>
                                <p>Stop recording (reflections of) DCG effects, and return them as a
forrest (of DCG traces).  See <code>dcg_reflect_begin()</code>.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.dcg_reflect_now.html'
                                  title='adapton::engine::reflect::dcg_reflect_now'>dcg_reflect_now</a></td>
                           <td class='docblock-short'>
                                <p>Reflect the DCG&#39;s internal structure now.  Does not reflect any
engine effects over this DCG (e.g., no cleaning or dirtying),
just the <em>program effects</em> recorded by the DCG&#39;s structure.
Returns None if the engine is <code>Naive</code> and thus has no reflected
state whatsoever.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.preds_of_node.html'
                                  title='adapton::engine::reflect::preds_of_node'>preds_of_node</a></td>
                           <td class='docblock-short'>
                                <p>Get the <code>Pred</code>s of a <code>Node</code>, if they are defined.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.reflect_val.html'
                                  title='adapton::engine::reflect::reflect_val'>reflect_val</a></td>
                           <td class='docblock-short'>
                                <p><em>Rust data and articulation reflection</em>: Transform any(*) Rust
data that derives <code>Debug</code> into a reflected <code>Val</code>.  </p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.string_of_loc.html'
                                  title='adapton::engine::reflect::string_of_loc'>string_of_loc</a></td>
                           <td class='docblock-short'>
                                <p>See doc for <code>write_loc</code>. Returns this output as a string.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.string_of_name.html'
                                  title='adapton::engine::reflect::string_of_name'>string_of_name</a></td>
                           <td class='docblock-short'>
                                <p>See doc for <code>write_name</code>. Returns this output as a string.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.string_of_path.html'
                                  title='adapton::engine::reflect::string_of_path'>string_of_path</a></td>
                           <td class='docblock-short'>
                                <p>See doc for <code>write_path</code>. Returns this output as a string.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.succs_of_node.html'
                                  title='adapton::engine::reflect::succs_of_node'>succs_of_node</a></td>
                           <td class='docblock-short'>
                                <p>Get the <code>Succ</code>s of a <code>Node</code>, if they are defined.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.write_loc.html'
                                  title='adapton::engine::reflect::write_loc'>write_loc</a></td>
                           <td class='docblock-short'>
                                <p>Write a concise human-readable version of the location (not the
verbose, machine-parsable <code>Debug</code> version).  </p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.write_name.html'
                                  title='adapton::engine::reflect::write_name'>write_name</a></td>
                           <td class='docblock-short'>
                                <p>Write a concise human-readable version of the name (not the
verbose, machine-parsable <code>Debug</code> version).</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='fn' href='fn.write_path.html'
                                  title='adapton::engine::reflect::write_path'>write_path</a></td>
                           <td class='docblock-short'>
                                <p>Write a concise human-readable version of the path (not the
verbose, machine-parsable <code>Debug</code> version).</p>
                           </td>
                       </tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.Path.html'
                                  title='adapton::engine::reflect::Path'>Path</a></td>
                           <td class='docblock-short'>
                                <p>A <code>Path</code> here is just a <code>Vec</code> of <code>Name</code>s</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../../";
        window.currentCrate = "adapton";
    </script>
    <script src="../../../jquery.js"></script>
    <script src="../../../main.js"></script>
    <script defer src="../../../search-index.js"></script>
</body>
</html>